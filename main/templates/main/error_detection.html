<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VRC,LRC,2-D,Checksum Techniques</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: #f8f9fa;
            min-height: 100vh;
            color: #212529;
        }

        .main-card {
            margin-top: 60px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border: none;
        }

        .card-header {
            background-color: #000000;
            color: #ffffff;
            font-size: 1.5rem;
            font-weight: 600;
            border-radius: 16px 16px 0 0;
        }

        label {
            font-weight: 600;
        }

        .btn-dark {
            font-weight: 600;
        }

        .question-box {
            background-color: #ffffff;
            border: 1px solid #ced4da;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 1rem;
        }

        .result-card {
            border-radius: 12px;
            box-shadow: 0 6px 16px rgba(0,0,0,0.1);
            margin-top: 20px;
            border: none;
        }

        .result-title {
            font-weight: 600;
            color: #000000;
        }

        .binary-box {
            background-color: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 12px;
            font-family: monospace;
        }

        .badge-tech {
            background-color: #000000;
            color: #ffffff;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            color: #6c757d;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-7 col-md-9">

            <div class="card main-card">
                <div class="card-header text-center">
                    Parity & Checksum Analyzer
                </div>

                <div class="card-body">

                    <!-- Input Form -->
                    <form method="post">
                        {% csrf_token %}
                        <div class="mb-3">
                            <label for="dataset" class="form-label">
                                Enter Binary Dataset (space separated)
                            </label>
                            <input type="text" class="form-control form-control-lg"
                                   id="dataset" name="dataset"
                                   placeholder="Example: 1011 1001 1100"
                                   required>
                        </div>

                        <div class="d-grid">
                            <button type="submit" class="btn btn-dark btn-lg">
                                Analyze
                            </button>
                        </div>
                    </form>

                    <!-- Error -->
                    {% if result and result.error %}
                        <div class="alert alert-danger mt-4">
                            {{ result.error }}
                        </div>
                    {% endif %}

                    <!-- Output -->
                    {% if result and not result.error %}

                        <!-- Input Display -->
                        <div class="question-box mt-4">
                            <strong>Input Dataset:</strong><br>
                            {{ request.POST.dataset }}
                        </div>

                        <!-- VRC -->
                        <div class="card result-card">
                            <div class="card-body">
                                <h5 class="result-title">
                                    <span class="badge badge-tech">VRC</span>
                                    Vertical Redundancy Check
                                </h5>
                                <div class="binary-box mt-2">
                                    {% for item in result.VRC %}
                                        {{ item }}<br>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                        <!-- LRC -->
                        <div class="card result-card">
                            <div class="card-body">
                                <h5 class="result-title">
                                    <span class="badge badge-tech">LRC</span>
                                    Longitudinal Redundancy Check
                                </h5>
                                <div class="binary-box mt-2">
                                    {% for item in result.LRC %}
                                        {{ item }}<br>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                        <!-- 2D Parity -->
                        <div class="card result-card">
                            <div class="card-body">
                                <h5 class="result-title">
                                    <span class="badge badge-tech">2-D</span>
                                    Two Dimensional Parity
                                </h5>
                                <div class="binary-box mt-2">
                                    {% for item in result.TwoD %}
                                        {{ item }}<br>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                        <!-- Checksum -->
                        <!-- Checksum -->
                        <div class="card result-card">
                            <div class="card-body">
                                <h5 class="result-title text-center">
                                    <span class="badge badge-tech">Checksum</span>
                                </h5>

                                <div class="binary-box mt-3">
                                    <strong>Addition:</strong><br><br>

                                    {% for line in result.ChecksumSteps %}
                                        &nbsp;&nbsp;{{ line }}<br>
                                    {% endfor %}
                                    <strong>────────</strong><br>

                                    <strong>Final Sum:</strong> {{ result.ChecksumSum }}<br><br>

                                    <strong>1's Complement (Checksum):</strong><br>
                                    <span class="fs-5 fw-bold">{{ result.Checksum }}</span>
                                </div>
                            </div>
                        </div>

                    {% endif %}

                </div>
            </div>

                <footer>
                    Parity & Checksum Analyzer
                </footer>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
